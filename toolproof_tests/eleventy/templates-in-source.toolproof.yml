name: Eleventy templates in source

steps:
  - step: I have a "src/eleventy.config.js" file with the content {js}
    js: |-
      export default function(eleventyConfig) {
        return { dir: { input: "sauce" } };
      }
  - step: I have a "src/sauce/content/index.html" file with the content ""
  - step: I have a "src/sauce/content/blog.html" file with the content ""
  - step: I have a "src/sauce/content/blog/partying.md" file with the content ""
  - step: I have a "src/sauce/content/blog/follow-up/no-more-partying.md" file with the content ""
  - step: I have a "src/sauce/_data/party-locations.csv" file with the content ""
  - ref: ./../core/run_gadget.toolproof.yml
  - snapshot: stdout
    snapshot_content: |-
      ╎{
      ╎  "ssg": "eleventy",
      ╎  "config": {
      ╎    "paths": {
      ╎      "static": "",
      ╎      "uploads": "uploads"
      ╎    },
      ╎    "timezone": "Pacific/Auckland",
      ╎    "markdown": {
      ╎      "engine": "commonmark",
      ╎      "options": {
      ╎        "html": true
      ╎      }
      ╎    },
      ╎    "source": "sauce"
      ╎  },
      ╎  "collections": [
      ╎    {
      ╎      "key": "source",
      ╎      "config": {
      ╎        "path": "",
      ╎        "icon": "package_2"
      ╎      },
      ╎      "collections": [
      ╎        {
      ╎          "key": "data",
      ╎          "config": {
      ╎            "path": "_data",
      ╎            "icon": "data_usage",
      ╎            "disable_url": true,
      ╎            "disable_add": true,
      ╎            "disable_add_folder": true,
      ╎            "disable_file_actions": true
      ╎          },
      ╎          "collections": []
      ╎        },
      ╎        {
      ╎          "key": "pages",
      ╎          "config": {
      ╎            "path": "content",
      ╎            "icon": "wysiwyg"
      ╎          },
      ╎          "collections": [
      ╎            {
      ╎              "key": "blog",
      ╎              "config": {
      ╎                "path": "content/blog",
      ╎                "icon": "event_available"
      ╎              },
      ╎              "collections": [
      ╎                {
      ╎                  "key": "blog_follow_up",
      ╎                  "config": {
      ╎                    "path": "content/blog/follow-up",
      ╎                    "icon": "clock_arrow_up"
      ╎                  },
      ╎                  "collections": []
      ╎                }
      ╎              ]
      ╎            }
      ╎          ]
      ╎        }
      ╎      ]
      ╎    }
      ╎  ]
      ╎}
